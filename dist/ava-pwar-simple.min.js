import{AvaPwar}from"./ava-pwar.js";import{define}from"xtal-element/define.js";export class AvaPwarSimple extends AvaPwar{static get is(){return"ava-pwar-simple"}set manifest(e){super.manifest=e,this.render()}render(){const e=this._manifest,r=this.$;if(!e.icons)return;let i=e.icons.find(e=>e.sizes.indexOf("192")>-1);i||(i=e.icons[e.icons.length-1]);let s=i.src;s.startsWith("/")&&(s=s.substring(1));const n=s.startsWith("http")?s:e.url+s,t=this.invertColor(e.background_color);this.innerHTML=`\n        <div class="simple" style="background-color:${e.background_color};color:${t}">\n          <div class="iconLabel">Icon:</div>\n          <div class="icon"><img height="192" width="192" src="${n}"/></div>\n          <div class="nameLabel">Name:</div>\n          <div class="name">${r(e.name)}</div>\n          <div class="shortNameLabel">Short Name:</div>\n          <div class="shortName">${r(e.short_name)}</div>\n          <a class="url" target="_blank" href="${e.url}">${r(e.url)}</a>\n        </div>\n        `}$(e){return e.replace(/(<([^>]+)>)/gi,"")}invertColor(e){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");var r=(255-parseInt(e.slice(0,2),16)).toString(16),i=(255-parseInt(e.slice(2,4),16)).toString(16),s=(255-parseInt(e.slice(4,6),16)).toString(16);return"#"+this.padZero(r)+this.padZero(i)+this.padZero(s)}padZero(e,r){return r=r||2,(new Array(r).join("0")+e).slice(-r)}}define(AvaPwarSimple);